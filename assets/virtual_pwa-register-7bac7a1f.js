import{_ as e}from"./vendor-1d24795d.js";function n(n={}){const{immediate:i=!1,onNeedRefresh:t,onOfflineReady:o,onRegistered:a,onRegisteredSW:s,onRegisterError:l}=n;let r,d,c;return d=async function(){if("serviceWorker"in navigator){const{Workbox:n}=await e((()=>import("./workbox-window.prod.es5-5201a480.js")),[]);r=new n("/ExpenseGo/sw.js",{scope:"/ExpenseGo/",type:"classic"}),c=async()=>{await(null==r?void 0:r.messageSkipWaiting())};{let e=!1;const n=()=>{e=!0,null==r||r.addEventListener("controlling",(e=>{e.isUpdate&&window.location.reload()})),null==t||t()};r.addEventListener("installed",(i=>{void 0===i.isUpdate?void 0!==i.isExternal?i.isExternal?n():!e&&(null==o||o()):i.isExternal?window.location.reload():!e&&(null==o||o()):i.isUpdate||null==o||o()})),r.addEventListener("waiting",n),r.addEventListener("externalwaiting",n)}r.register({immediate:i}).then((e=>{s?s("/ExpenseGo/sw.js",e):null==a||a(e)})).catch((e=>{null==l||l(e)}))}}(),async(e=!0)=>{await d,await(null==c?void 0:c())}}export{n as registerSW};
